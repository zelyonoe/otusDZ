[defaults]
# Основные настройки Ansible
inventory = ./inventory/hosts.yml
host_key_checking = False
retry_files_enabled = False
stdout_callback = yaml
stderr_callback = yaml
gathering = smart
fact_caching = memory
fact_caching_timeout = 86400

# SSH настройки
remote_user = dev_tf
private_key_file = ~/.ssh/id_rsa
timeout = 30
pipelining = True

# Настройки логирования
log_path = ./ansible.log
display_skipped_hosts = False
display_ok_hosts = True

# Настройки ролей
roles_path = ./roles

[ssh_connection]
# SSH соединение через bastion host
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no
control_path_dir = /tmp/.ansible-cp